<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xian DApp - HTML/JS Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸš€ Xian Universal Wallet Protocol</h1>
            <h2>HTML & JavaScript DApp Demo</h2>
            <p>This demo shows how to integrate with any Xian wallet using pure HTML and JavaScript</p>
        </header>

        <!-- Connection Status -->
        <section class="status-section">
            <div class="status-card">
                <div class="status-header">
                    <div id="statusIndicator" class="status-indicator disconnected"></div>
                    <span id="statusText">Not Connected</span>
                </div>
                <div class="connection-controls">
                    <button id="connectBtn" class="btn btn-primary">Connect Wallet</button>
                    <button id="disconnectBtn" class="btn btn-secondary" style="display: none;">Disconnect</button>
                </div>
            </div>
        </section>

        <!-- Wallet Information -->
        <section class="wallet-info">
            <div class="info-card">
                <h3>Wallet Information</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <label>Address:</label>
                        <span id="walletAddress">-</span>
                    </div>
                    <div class="info-item">
                        <label>Balance:</label>
                        <span id="walletBalance">-</span>
                    </div>
                    <div class="info-item">
                        <label>Network:</label>
                        <span id="walletNetwork">-</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Transaction Section -->
        <section class="transaction-section">
            <div class="transaction-card">
                <h3>Send Transaction</h3>
                <form class="transaction-form" onsubmit="return false;">
                    <div class="form-group">
                        <label for="recipientInput">Recipient Address:</label>
                        <input 
                            type="text" 
                            id="recipientInput" 
                            placeholder="Enter recipient address..."
                            class="form-input"
                        >
                    </div>
                    <div class="form-group">
                        <label for="amountInput">Amount (TAU):</label>
                        <input 
                            type="number" 
                            id="amountInput" 
                            placeholder="0.0"
                            step="0.000001"
                            min="0"
                            class="form-input"
                        >
                    </div>
                    <button id="sendBtn" class="btn btn-primary" disabled>Send Transaction</button>
                </form>
                <div id="transactionResult" class="result-container"></div>
            </div>
        </section>

        <!-- Message Signing Section -->
        <section class="signing-section">
            <div class="signing-card">
                <h3>Sign Message</h3>
                <form class="signing-form" onsubmit="return false;">
                    <div class="form-group">
                        <label for="messageInput">Message to Sign:</label>
                        <textarea 
                            id="messageInput" 
                            placeholder="Enter your message here..."
                            class="form-textarea"
                            rows="3"
                        ></textarea>
                    </div>
                    <button id="signBtn" class="btn btn-primary" disabled>Sign Message</button>
                </form>
                <div id="signatureResult" class="result-container"></div>
            </div>
        </section>

        <!-- Activity Log -->
        <section class="log-section">
            <div class="log-card">
                <h3>Activity Log</h3>
                <div id="logContainer" class="log-container"></div>
            </div>
        </section>

        <!-- Instructions -->
        <section class="instructions">
            <div class="instructions-card">
                <h3>How to Use</h3>
                <ol>
                    <li><strong>Start a Wallet:</strong> Make sure you have a Xian wallet running (CLI, Desktop, or Web)</li>
                    <li><strong>Connect:</strong> Click "Connect Wallet" and approve the authorization in your wallet</li>
                    <li><strong>Send Transactions:</strong> Enter recipient address and amount, then click "Send Transaction"</li>
                    <li><strong>Sign Messages:</strong> Enter any message and click "Sign Message" to create a digital signature</li>
                </ol>
                
                <div class="tech-info">
                    <h4>Technical Details</h4>
                    <ul>
                        <li>Uses the Xian Universal Wallet Protocol on <code>localhost:8545</code></li>
                        <li>Works with any wallet type (CLI, Desktop, Web)</li>
                        <li>Pure HTML/JavaScript - no frameworks required</li>
                        <li>Session-based authentication with automatic token management</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="xian-wallet-client.js"></script>
    <script src="app.js"></script>
</body>
</html>